<!DOCTYPE html>
<html>

<head><script type="text/javascript">var NREUMQ=NREUMQ||[];NREUMQ.push(["mark","firstbyte",new Date().getTime()]);</script>
  <title>I &lt;3 State - EuRuKo 2013</title>

  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <!-- Google fonts -->
  <link href='http://fonts.googleapis.com/css?family=Ubuntu:400,500,700,300italic' rel='stylesheet' type='text/css'>

  <link href="../assets/application-90617de45bcd26abfa6bdfaac134730d.css" media="screen" rel="stylesheet" type="text/css" />
  <script src="../assets/application-2a9aea2aed1eb0bb867ffb106dd5aa4c.js" type="text/javascript"></script>
  <meta content="authenticity_token" name="csrf-param" />
<meta content="FJdDFlfhkXPeqhLRMOS1KHbFyK63rQYcurVKDx7UeG0=" name="csrf-token" />
      <link href="25.rss" rel="alternate" title="RSS" type="application/rss+xml" />

  <script type="text/javascript">
    var _gas = _gas || [];
    _gas.push(['_setAccount', 'UA-36907690-1']);
    _gas.push(['_setDomainName', 'euruko2013.org']);
    _gas.push(['_setAllowLinker', true]);
    _gas.push(['_trackPageview']);

    _gas.push(['_gasTrackForms']);
    _gas.push(['_gasTrackOutboundLinks']);
    _gas.push(['_gasTrackMaxScroll']);
    _gas.push(['_gasTrackDownloads']);
    _gas.push(['_gasTrackYoutube', {force: true}]);
    _gas.push(['_gasTrackVimeo', {force: true}]);
    _gas.push(['_gasTrackMailto']);

    (function() {
        var ga = document.createElement('script');
        ga.type = 'text/javascript';
        ga.async = true;
        ga.src = '../assets/gas-1aa20a83ef9dcebb42b69476d216da47.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(ga, s);
    })();
</script>
</head>
<body class="" data-spy="scroll" data-target="#sidenav">
  <div class="container">
    <div id="nav" class="row">
      <ul class="centered clearfix">
        <li><a class="ir" href="http://euruko2013.org/">EuRuKo 2013</a></li>
          <li class="dropdown sign-in">
            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
              Sign in
              <b class="caret"></b>
            </a>
            <div class="dropdown-menu">
              <p><a href="../auth/google.html">Google</a></p>
<p><a href="https://api.twitter.com/oauth/authenticate?oauth_token=dchXjVTr3lCO0s6kqt9qRclvu8PGPmhPPUqia6vaUo">Twitter</a></p>
<p><a href="https://github.com/login/oauth/authorize?response_type=code&amp;client_id=3cffed970ad0c7e64529&amp;redirect_uri=http%3A%2F%2Fcfp.euruko2013.org%2Fauth%2Fgithub%2Fcallback&amp;state=c5cc1ef30f5d71d637231eb3fe8868eaf5ae51c6372fbf18&amp;scope=user%3Aemail">Github</a></p>
<p><a href="https://graph.facebook.com/oauth/authorize?response_type=code&amp;client_id=620349184658194&amp;redirect_uri=http%3A%2F%2Fcfp.euruko2013.org%2Fauth%2Ffacebook%2Fcallback&amp;state=232f7efee33c4cd8f67a7a572362132d43f9066d5eeb08bb&amp;scope=email">Facebook</a></p>
            </div>
          </li>

        <li><a href="http://euruko2013.org/blog/">Blog</a></li>
        <li><a href="http://euruko2013.org/#contact">Contact</a></li>
        <li  class="active"><a href="../proposals.html">Proposals</a></li>
        <li><a href="http://euruko2013.org/#sponsors">Sponsors</a></li>
        <li><a href="http://euruko2013.org/#venue">Venue</a></li>
        <li><a href="http://euruko2013.org/#tickets">Tickets</a></li>
        <li><a href="http://euruko2013.org/#speakers">Speakers</a></li>
        <li><a href="http://euruko2013.org/#about">About</a></li>
       </ul>
    </div>


      <section id="notices" class="row">
          


          <div class="alert alert-info">
              <i class="icon-bullhorn"></i>&nbsp;&nbsp;
              <strong><em><a href="http://euruko2013.org/speakers">See the final speaker lineup!</a></em></strong>
          </div>


      </section>

    <div id="cfp" class="row">
      <div id="proposal" class="hero-unit">
    <div class="proposal">
        

        <div class="span4 well pull-right">
                <a href="../users/92.html">
                <em><strong>Tim Lossen</strong></em>
                <br>
                <img alt="Profile_image?user_id=1045821&amp;size=bigger" class="avatar pull-right" src="https://api.twitter.com/1/users/profile_image?user_id=1045821&amp;size=bigger" />
</a>
            <div>
                        Ranked <em><strong>24</strong></em> in Phase 2 with
                        a weighted final score of 156
            </div>

            <div style="margin-bottom: 15px;">
                <span class='st_twitter' st_via="euruko" displayText='Tweet'></span>
                <span class='st_googleplus' displayText='Google+'></span>
                <span class='st_facebook' displayText='Facebook'></span>
                <span class='st_sharethis' displayText='ShareThis'></span>
            </div>

                <div>
                    <h4>About the author</h4>
                    <p><p>&quot;Amongst our weaponry are such diverse elements as: fear, surprise, ruthless efficiency ..... and an almost fanatical devotion to the Pope.&quot;</p>
</p>
                </div>
        </div>

        <h1>
            I &lt;3 State
        </h1>

        

        <div class="description"><p>The conventional approach is to make web applications stateless, and store all data in some kind of database. This pattern is so deeply entrenched in our minds that people sometimes forget it is not the <em>only</em> way. </p>

<p>When designing the architecture for a high-traffic web application with millions of users, we decided to go with exactly the opposite approach: no database, but a stateful application, that persists all its data. </p>

<p>Why did we do this? What are the advantages and disadvantages? And how does it work?</p>

<p>The implementation itself -- based on JRuby and a Java ConcurrentHashMap -- is surprisingly simple.
But it raises a lot of interesting &quot;secondary&quot; problems, as you cannot simply restart the application. 
I will explain in detail how we handle persistence, sharding, data migrations and deployment.</p>

<p>Last but not least, I will report how our application is performing in production ..... are we happy with our decision?</p>
</div>


        

</div>    <br style="clear: both;">
</div>

<div>
        <a href="24.html" class="btn btn-small" data-toggle="tooltip" title="Fabulous adventures of Rubyist in Clojure world">
            <i class="icon-chevron-left"></i>
            Previous
</a>
        <a href="26.html" class="btn btn-small pull-right" data-toggle="tooltip" title="Opal, get back at doing Ruby on your browser â˜º">
            Next
            <i class="icon-chevron-right"></i>
</a></div>
<br>

<div id="suggestions">
        <h2>Suggestions</h2>

        <ul class="suggestions">
                <li class="suggestion" id="suggestion_146">
                    <h5 class="author">
                            <a href="../users/173.html"><img alt="69921eedd141eac43c7f9cddc5891ca1?d=retro" class="avatar" src="http://www.gravatar.com/avatar/69921eedd141eac43c7f9cddc5891ca1?d=retro" /></a>
<a href="../users/173.html">Josep M. Bach</a>
 suggested
                        <span class="age">8 months ago</span>
                        
                    </h5>

                    <section class="body"><p>Can&#39;t wait to see this one! Would you explain whether this is the first time you try something like this in production, or if there have been previous experiences (and what problems did you encounter back then)? </p>
</section>

</li>                <li class="suggestion alert alert-block alert-info" id="suggestion_130">
                    <h5 class="author">
                                The proposal author responded
                        <span class="age">8 months ago</span>
                        
                    </h5>

                    <section class="body"><p>thanks, good point, i&#39;ll try to clarify what i mean by &quot;stateful application&quot;.</p>
</section>

</li>                <li class="suggestion" id="suggestion_44">
                    <h5 class="author">
                            <a href="../users/83.html"><img alt="1bb0c9acde5c36e515da3d0da95ea748?d=retro" class="avatar" src="http://www.gravatar.com/avatar/1bb0c9acde5c36e515da3d0da95ea748?d=retro" /></a>
<a href="../users/83.html">John Pagonis</a>
 suggested
                        <span class="age">8 months ago</span>
                        
                    </h5>

                    <section class="body"><p>This sounds interesting:-)</p>

<p>By a &quot;stateful application&quot; do you imply something Smalltalk-like where the app and its state is preserved in the same image at all times? Can you please elaborate a bit so that people understand what is this about (and thus are well informed when they vote for your proposal:-)?</p>
</section>

</li>        </ul>

</div>



    </div>
  </div>
  <footer>
      <p><a href="http://euruko2013.org/codeofconduct">Code of conduct</a></p>
      <p><a href="../about.html">About the CfP process</a></p>
      <p><a href="../motivation.html">Motivations</a></p>
  </footer>
  <script type="text/javascript" src="http://w.sharethis.com/button/buttons.js"></script>
  <script type="text/javascript">stLight.options({publisher: "a4771cba-dcbc-4ec6-9e9c-4abbf20f04c1", doNotHash: false, doNotCopy: false, hashAddressBar: false, servicePopup:true});</script>
<script type="text/javascript">if (!NREUMQ.f) { NREUMQ.f=function() {
NREUMQ.push(["load",new Date().getTime()]);
var e=document.createElement("script");
e.type="text/javascript";
e.src=(("http:"===document.location.protocol)?"http:":"https:") + "//" +
  "js-agent.newrelic.com/nr-100.js";
document.body.appendChild(e);
if(NREUMQ.a)NREUMQ.a();
};
NREUMQ.a=window.onload;window.onload=NREUMQ.f;
};
NREUMQ.push(["nrfj","beacon-3.newrelic.com","df4a5bcdeb","1306772","cwkITEFfDQpdRRoTRF8WCUtSXBJJS19aFA==",24,69,new Date().getTime(),"","","","",""]);</script></body>

</html>
